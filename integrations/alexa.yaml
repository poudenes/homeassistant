#   █████╗ ██╗     ███████╗██╗  ██╗ █████╗     ███████╗███╗   ███╗ █████╗ ██████╗ ████████╗    ██╗  ██╗ ██████╗ ███╗   ███╗███████╗
#  ██╔══██╗██║     ██╔════╝╚██╗██╔╝██╔══██╗    ██╔════╝████╗ ████║██╔══██╗██╔══██╗╚══██╔══╝    ██║  ██║██╔═══██╗████╗ ████║██╔════╝
#  ███████║██║     █████╗   ╚███╔╝ ███████║    ███████╗██╔████╔██║███████║██████╔╝   ██║       ███████║██║   ██║██╔████╔██║█████╗
#  ██╔══██║██║     ██╔══╝   ██╔██╗ ██╔══██║    ╚════██║██║╚██╔╝██║██╔══██║██╔══██╗   ██║       ██╔══██║██║   ██║██║╚██╔╝██║██╔══╝
#  ██║  ██║███████╗███████╗██╔╝ ██╗██║  ██║    ███████║██║ ╚═╝ ██║██║  ██║██║  ██║   ██║       ██║  ██║╚██████╔╝██║ ╚═╝ ██║███████╗
#  ╚═╝  ╚═╝╚══════╝╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝    ╚══════╝╚═╝     ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝   ╚═╝       ╚═╝  ╚═╝ ╚═════╝ ╚═╝     ╚═╝╚══════╝
###########################################################################################
---
###########################################################################################
# SMART_HOME
# https://www.home-assistant.io/integrations/alexa/
# https://www.home-assistant.io/integrations/alexa.smart_home/#supported-platforms
#
# Alexa Custom Skills tutorial:
# https://github.com/keatontaylor/alexa-actions/wiki/Alexa-Talking-to-Home-Assistant-(The-Skill)
###########################################################################################
flash_briefings:
  password: !secret alexa_flash_briefing_password
  ha_briefing:
    - title: "Temperature"
      text: >
        Inside the house, it is {{ (states('sensor.nest_02aa01ac35140a4t_temperature') | int) }} degrees.
        Outside it is {{ (states('weather.buienradar')) | int }} degrees.
        The forcast for today is {{ (states('sensor.condition')) }}, tomorrow it will be {{ (states('sensor.condition_1d')) }}.
        There is {% set ns = namespace(res=0) %}{% for count in state_attr('switch.helpers_switches', 'entity_id') if is_state(count, 'on') %}{% set ns.res = ns.res + 1 %}{%endfor%}{{ ns.res }} Meek wall switch on.
        {% for entity_id in state_attr('switch.helpers_switches','entity_id') if not is_state(entity_id, 'off') %} The {{ entity_id }} is on.{% endfor %}.

smart_home:
  # endpoint: https://api.amazonalexa.com/v3/events # Needed for Alexa Skill build witg amazon_nl@ account
  # client_id: !secret alexa_smart_home_id
  # client_secret: !secret alexa_smart_home_secret
  filter:
    include_entities:
      # Routines for Harmony
      - script.alexa_pause_harmony
      - script.alexa_play_harmony
      - script.alexa_stop_harmony

      - script.alexa_receiver_mute
      - script.alexa_receiver_down_vol
      - script.alexa_receiver_up_vol

      - script.alexa_turn_on_appletv
      - script.alexa_turn_on_tv
      - script.alexa_turn_on_airplay
      - script.alexa_turn_on_nintendo
      - script.alexa_turn_on_morning
      - script.alexa_turn_on_sleeping
      - script.alexa_turn_on_goodnight
      - script.alexa_turn_on_xbox
      - script.alexa_turn_off_harmony

      # Routines for blinds
      - script.alexa_somfy_down_up

      # Routines for Roborock
      - script.alexa_return_base
      - script.alexa_clean_all
      - script.alexa_clean_bedroom
      - script.alexa_clean_hallway
      - script.alexa_clean_kithcen
      - script.alexa_clean_diningroom
      - script.alexa_clean_livingroom
      - script.alexa_clean_toilet

      # Other
      - fan.mechanical_ventilation
      - sensor.fan_speed
      - input_boolean.function_briefing

      # Lights
      - light.hallway_all
      - light.livingroom_all
      - light.wall_all
      - light.window_all
      - light.tv_sync
      - light.nanoleaf
      - light.bathroom_all
      - light.dressoir_all
      - light.diningtable_all
      - light.kitchen_all
      - light.cooking_all
      - light.ceiling_all
      - light.sink_all
      - light.bedroom_all
      - light.toilet_all
      - light.balcony_all

      # Scenes
      - input_boolean.function_cooking

      - switch.helpers_dinner
      - switch.helpers_daytime
      - switch.helpers_evening
      - switch.helpers_goodnight

      # Nest
      - climate.nest_02aa01ac35140a4t

      # Wall switches
      - switch.ceiling_light_switch
      - switch.sink_light_switch
      - switch.hallway_light_switch
      - switch.toilet_light_switch
      - switch.bedroom_light_switch
      - switch.bathroom_light_switch
      - switch.dressoir_light_switch
      - switch.diningtable_light_switch
      - switch.wall_light_switch
      - switch.window_light_switch
      - switch.balcony_light_switch
      - switch.xmas_tree_wall
      - switch.xmas_1_wall

  entity_config:
    fan.mechanical_ventilation:
      name: "Fan"
      description: "The fan in the bathroom"
      display_categories: FAN

    input_boolean.function_briefing:
      name: "Briefing"

    light.nanoleaf:
      name: "Nanoleaf"
      description: "Incredible nanoleafs"
    light.diningtable_all:
      name: "Diningroom"
    light.hallway_all:
      name: "Hallway"
    light.livingroom_all:
      name: "Livingroom"
    light.wall_all:
      name: "Wall"
    light.window_all:
      name: "Window"
    light.tv_sync:
      name: "TV Sync"
    light.bathroom_all:
      name: "Bathroom"
    light.dressoir_all:
      name: "Dressoir"
    light.kitchen_all:
      name: "Kithcen"
    light.cooking_all:
      name: "Cooking"
    light.ceiling_all:
      name: "Ceiling"
    light.sink_all:
      name: "Sink"
    light.bedroom_all:
      name: "Bedroom"
    light.toilet_all:
      name: "Toilet"
    light.balcony_all:
      name: "Balcony"

    input_boolean.function_cooking:
      name: "Scene Cooking"
      display_categories: SWITCH

    switch.momentary_peter_early_up:
      name: "Peter Early Up"
      display_categories: SWITCH

    switch.xmas_tree_wall:
      name: "Christmas Tree"
    switch.xmas_1_wall:
      name: "Christmas window"

    switch.ceiling_light_switch:
      name: "Kitchen switch"
      display_categories: SWITCH
    switch.sink_light_switch:
      name: "Sink switch"
      display_categories: SWITCH
    switch.hallway_light_switch:
      name: "Hallway switch"
      display_categories: SWITCH
    switch.toilet_light_switch:
      name: "Toilet switch"
      display_categories: SWITCH
    switch.bedroom_light_switch:
      name: "Bedroom switch"
      display_categories: SWITCH
    switch.bathroom_light_switch:
      name: "Bathroom switch"
      display_categories: SWITCH
    switch.dressoir_light_switch:
      name: "Dressoir switch"
      display_categories: SWITCH
    switch.diningtable_light_switch:
      name: "Diningroom switch"
      display_categories: SWITCH
    switch.wall_light_switch:
      name: "Wall switch"
      display_categories: SWITCH
    switch.window_light_switch:
      name: "Window switch"
      display_categories: SWITCH
    switch.balcony_light_switch:
      name: "Balcony switch"
      display_categories: SWITCH
    switch.momentary_scene_morning:
      name: "Scene Morning"
      display_categories: SWITCH
